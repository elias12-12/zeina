<div class="d-flex align-items-center mb-4">
  <i class="bi bi-cloud-sun fs-3 me-2 text-primary"></i>
  <div>
    <h1 class="h3 mb-0">Roastery Weather</h1>
  </div>
</div>

<div class="row g-4">
  <div class="col-lg-5">
    <div class="card shadow-sm h-100">
      <div class="card-body">
        <h2 class="h5 mb-3">Choose a city</h2>
        <form method="get" class="row g-3">
          <div class="col-12">
            <label for="city" class="form-label">City, Country Code</label>
            <input type="text" id="city" name="city" value="<%= city %>" class="form-control" placeholder="Beirut, LB" />
          </div>
          <div class="col-12">
            <button type="submit" class="btn btn-primary w-100">
              <i class="bi bi-search"></i> Update Weather
            </button>
          </div>
          <p class="text-muted small mb-0">Tip: Use city and country code (e.g., "Paris, FR").</p>
        </form>
      </div>
    </div>
  </div>

  <div class="col-lg-7">
    <div class="card shadow-sm h-100">
      <div class="card-body">
        <% if (weatherError) { %>
          <div class="alert alert-warning mb-0">
            <i class="bi bi-exclamation-triangle"></i> <%= weatherError %>
          </div>
        <% } else if (weather) { %>
          <div class="d-flex align-items-center mb-3">
            <% if (weather.icon) { %>
              <img src="https://openweathermap.org/img/wn/<%= weather.icon %>@2x.png" alt="Weather icon" width="72" height="72" />
            <% } %>
            <div class="ms-3">
              <h2 class="h4 mb-1"><%= weather.city %><% if (weather.country) { %>, <%= weather.country %><% } %></h2>
              <p class="text-muted mb-0 text-capitalize"><%= weather.description %></p>
            </div>
          </div>

          <div class="row g-3">
            <div class="col-sm-6">
              <div class="p-3 bg-light rounded h-100">
                <div class="d-flex align-items-baseline">
                  <span class="display-5 fw-bold"><%= weather.temperature %>&deg;C</span>
                  <span class="text-muted ms-2">feels like <%= weather.feelsLike %>&deg;C</span>
                </div>
                <p class="mb-0 text-muted">High <%= weather.tempMax %>&deg;C / Low <%= weather.tempMin %>&deg;C</p>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="p-3 bg-light rounded h-100">
                <p class="mb-1"><i class="bi bi-droplet"></i> Humidity: <%= weather.humidity %>%</p>
                <p class="mb-1"><i class="bi bi-wind"></i> Wind: <%= weather.windSpeed %> m/s</p>
                <p class="mb-0 text-muted small">Updated at <%= weather.updatedAt.toLocaleString() %></p>
              </div>
            </div>
          </div>
        <% } else { %>
          <p class="text-muted mb-0">Weather data will appear here once available.</p>
        <% } %>
      </div>
    </div>
  </div>
</div>
